{"version":3,"file":"static/js/507.14ac49ec.chunk.js","mappings":"0NACA,EAAkC,sCAAlC,EAAqF,iCAArF,EAAuI,qC,SCqGvI,EAjGqB,WAAO,IAAD,IACzB,GAAwCA,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAyB3D,OAvBAC,EAAAA,EAAAA,YAAU,WACRC,MAAM,sCAAD,OACmCT,EADnC,8CAGFU,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAJ,8BAAiCF,EAASG,SAElD,OAAOH,EAASI,MACjB,IACAL,MAAK,SAAAM,GACJnB,EAAgBmB,EACjB,IACAC,OAAM,SAAAnB,GACLoB,QAAQpB,MAAM,gCAAiCA,GAC/CC,EAASD,EAAMqB,SACfD,QAAQE,IAAItB,EACb,GACJ,GAAE,CAACE,IAGJkB,QAAQE,IAAIlB,GAGA,OAAVJ,IACE,yBACGuB,OAAOC,KAAK1B,GAAc2B,QACzB,iCACE,mBAAQC,KAAK,SAASC,UAAWC,EAAjC,UACE,SAAC,KAAD,CACEC,GAAIvB,EAAoBwB,QACxBH,UAAWC,EAFb,yCAOF,mBACA,gBACEG,IAAG,0CAAqCjC,EAAakC,aACrDC,IAAKnC,EAAaoC,MAClBC,MAAO,IACPR,UAAWC,KAEb,4BACE,wBAAK9B,EAAaoC,SAElB,wCACeE,OAAOtC,EAAauC,cAAcC,QAAQ,GADzD,UAGA,sCACA,uBAAIxC,EAAayC,YACjB,oCACA,wBACGzC,EAAa0C,QACZ1C,EAAa0C,OAAOC,KAAI,SAAAC,GACtB,OACE,yBACE,6BAAKA,EAAMC,SADJD,EAAME,GAIlB,UAIP,mBACA,0BACE,2BACE,yBACE,SAAC,KAAD,CAAMf,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,6BAKN,SAAC,EAAAgB,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,UAIJ,sFAKT,C","sources":["webpack://react-homework-template/./src/components/Pages/MovieDetails/MovieDetails.module.css?729c","components/Pages/MovieDetails/MovieDetails.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetailsImg\":\"MovieDetails_movieDetailsImg__u+fNA\",\"backButton\":\"MovieDetails_backButton__+jAin\",\"backButtonLink\":\"MovieDetails_backButtonLink__DsRvG\"};","import { useEffect, useState, useRef } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { Suspense } from 'react';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movieDetales, setMovieDetails] = useState([]);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=69130d0521ed03b58ebb84abea94c8b9`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        setMovieDetails(data);\n      })\n      .catch(error => {\n        console.error('Error fetching movie details:', error);\n        setError(error.message);\n        console.log(error);\n      });\n  }, [movieId]);\n\n  // console.log(movieDetales);\n  console.log(location);\n\n  return (\n    error === null && (\n      <div>\n        {Object.keys(movieDetales).length ? (\n          <>\n            <button type=\"button\" className={css.backButton}>\n              <Link\n                to={backLinkLocationRef.current}\n                className={css.backButtonLink}\n              >\n                Back to page with movies\n              </Link>\n            </button>\n            <br />\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movieDetales.poster_path}`}\n              alt={movieDetales.title}\n              width={230}\n              className={css.movieDetailsImg}\n            />\n            <div>\n              <h2>{movieDetales.title}</h2>\n              {/* <h3>{movieDetales.title}</h3> */}\n              <p>\n                User Score: {Number(movieDetales.vote_average).toFixed(1)}/10\n              </p>\n              <h3>Overview</h3>\n              <p>{movieDetales.overview}</p>\n              <h4>Genres</h4>\n              <ul>\n                {movieDetales.genres &&\n                  movieDetales.genres.map(genre => {\n                    return (\n                      <li key={genre.id}>\n                        <p>-{genre.name}</p>\n                      </li>\n                    );\n                  })}\n              </ul>\n            </div>\n\n            <br />\n            <div>\n              <ul>\n                <li>\n                  <Link to=\"cast\">Cast</Link>\n                </li>\n                <li>\n                  <Link to=\"reviews\">Reviews</Link>\n                </li>\n              </ul>\n            </div>\n\n            <Suspense fallback={<div>Loading...</div>}>\n              <Outlet />\n            </Suspense>\n          </>\n        ) : (\n          <p>I'm sorry we didn't find anything for you. Backend broken</p>\n        )}\n      </div>\n    )\n  );\n};\n\nexport default MovieDetails;\n\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=69130d0521ed03b58ebb84abea94c8b9&language=en-US\n"],"names":["useState","movieDetales","setMovieDetails","error","setError","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","fetch","then","response","ok","Error","status","json","data","catch","console","message","log","Object","keys","length","type","className","css","to","current","src","poster_path","alt","title","width","Number","vote_average","toFixed","overview","genres","map","genre","name","id","Suspense","fallback"],"sourceRoot":""}